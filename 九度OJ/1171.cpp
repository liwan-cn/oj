#include<stdio.h>
int main(){
	int a[6][6];
	while(scanf("%d",&a[0][0])!=EOF){
		for(int i=1;i<25;i++)
			scanf("%d",&a[i/5][i%5]);
		int f1,f2,p1,p2;
		scanf("%d %d %d %d",&f1,&f2,&p1,&p2);
		if(f1==1&&f2==2){
			int t[2][2];
			t[0][0]=a[p1-1][p2-1];
			t[0][1]=a[p1-1][p2];
			t[1][0]=a[p1][p2-1];
			t[1][1]=a[p1][p2];
			
			a[p1-1][p2-1]=t[1][0];
			a[p1-1][p2]=t[0][0];
			a[p1][p2-1]=t[1][1];
			a[p1][p2]=t[0][1];
		}
		else if(f1==1&&f2==3){
			int t[3][3];
			t[0][0]=a[p1-1][p2-1];t[0][1]=a[p1-1][p2];t[0][2]=a[p1-1][p2+1];
			t[1][0]=a[p1][p2-1];t[1][1]=a[p1][p2];t[1][2]=a[p1][p2+1];
			t[2][0]=a[p1+1][p2-1];t[2][1]=a[p1+1][p2];t[2][2]=a[p1+1][p2+1];
			
			a[p1-1][p2-1]=t[2][0];a[p1-1][p2]=t[1][0];a[p1-1][p2+1]=t[0][0];
			a[p1][p2-1]=t[2][1];a[p1][p2]=t[1][1];a[p1][p2+1]=t[0][1];
			a[p1+1][p2-1]=t[2][2];a[p1+1][p2]=t[1][2];a[p1+1][p2+1]=t[0][2];
		}
		else if(f1==2&&f2==2){
			int t[2][2];
			t[0][0]=a[p1-1][p2-1];
			t[0][1]=a[p1-1][p2];
			t[1][0]=a[p1][p2-1];
			t[1][1]=a[p1][p2];
			
			a[p1-1][p2-1]=t[0][1];
			a[p1-1][p2]=t[1][1];
			a[p1][p2-1]=t[0][0];
			a[p1][p2]=t[1][0];
		}
		else if(f1==2&&f2==3){
			int t[3][3];
			t[0][0]=a[p1-1][p2-1];t[0][1]=a[p1-1][p2];t[0][2]=a[p1-1][p2+1];
			t[1][0]=a[p1][p2-1];t[1][1]=a[p1][p2];t[1][2]=a[p1][p2+1];
			t[2][0]=a[p1+1][p2-1];t[2][1]=a[p1+1][p2];t[2][2]=a[p1+1][p2+1];
			
			a[p1-1][p2-1]=t[0][2];a[p1-1][p2]=t[1][2];a[p1-1][p2+1]=t[2][2];
			a[p1][p2-1]=t[0][1];a[p1][p2]=t[1][1];a[p1][p2+1]=t[2][1];
			a[p1+1][p2-1]=t[0][0];a[p1+1][p2]=t[1][0];a[p1+1][p2+1]=t[2][0];
		}
		for(int i=0;i<5;i++){
			for(int j=0;j<5;j++){
				printf("%d",a[i][j]);
				if(j==4) printf("\n");
				else printf(" ");
			}
		}
	}
	return 0;
}
